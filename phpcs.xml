<?xml version="1.0"?>
<ruleset name="DevConnect Coding Standards">
    <description>
        Coding standards for the DevConnect project, enforcing PSR-12 and snake_case variable naming.
    </description>

    <!-- Base Standard: PSR-12 -->
    <rule ref="PSR12"/>

    <!-- Additional Standards -->
    <rule ref="Generic"/>
    <rule ref="Squiz"/>
    <rule ref="Zend"/>

    <!-- Remove Camel Case Checks -->
    <rule ref="Squiz.NamingConventions.ValidVariableName.NotCamelCaps">
        <severity>0</severity>
    </rule>
    <rule ref="Zend.NamingConventions.ValidVariableName.NotCamelCaps">
        <severity>0</severity>
    </rule>

    <!-- Custom Sniff to Enforce Snake Case -->
    <rule ref="Generic.NamingConventions.ValidVariableName">
        <properties>
            <property name="validName" value="^[a-z][a-z0-9_]*$"/>
        </properties>
    </rule>

    <!-- Exclude Specific Sniffs -->
    <rule ref="PSR12">
        <exclude name="PSR12.Files.FileHeader.SpacingAfterBlock"/>
    </rule>
    <rule ref="Squiz">
        <exclude name="Squiz.Commenting.FileComment.MissingSubpackageTag"/>
    </rule>
    <rule ref="Squiz.Strings.ConcatenationSpacing">
        <properties>
            <property name="spacing" value="1"/>
        </properties>
    </rule>

    <rule ref="Generic">
        <exclude name="Generic.Files.LineLength"/>
        <exclude name="Generic.Files.EndFileNoNewline.Found"/>
        <exclude name="Generic.Arrays.DisallowLongArraySyntax.Found"/>
        <exclude name="Generic.WhiteSpace.DisallowTabIndent.TabsUsed"/>
        <exclude name="Generic.PHP.UpperCaseConstant.Found"/>
        <exclude name="Generic.PHP.RequireStrictTypes.MissingDeclaration"/>
        <exclude name="Generic.PHP.ClosingPHPTag.NotFound"/>
    </rule>

    <!-- File Extensions to Check -->
    <fileExtensions>
        <extension>php</extension>
    </fileExtensions>

    <!-- Directories to Exclude -->
    <exclude-pattern>*/vendor/*</exclude-pattern>
    <exclude-pattern>*/node_modules/*</exclude-pattern>
    <exclude-pattern>*/tests/*</exclude-pattern>

    <!-- Severity Levels -->
    <arg name="error-severity" value="5"/>
    <arg name="warning-severity" value="5"/>

    <!-- Reporting -->
    <arg value="p"/>
    <arg value="s"/>
</ruleset>